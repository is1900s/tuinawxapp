<!-- æŠ€å¸ˆå¡ç‰‡ç»„ä»¶ -->
<view class="technician-card {{compact ? 'compact' : ''}}" bindtap="onCardTap" data-technician="{{technician}}">
  <!-- æŠ€å¸ˆå¤´åƒå’ŒåŸºæœ¬ä¿¡æ¯ -->
  <view class="technician-header">
    <image class="technician-avatar" src="{{technician.avatar}}" mode="aspectFill" />
    <view class="technician-info">
      <!-- å§“åå’Œå¾½ç«  -->
      <view class="technician-name-row">
        <text class="technician-name">{{technician.name}}</text>
        <view class="technician-badges">
          <text class="badge badge-verified" wx:if="{{technician.verified}}">å·²è®¤è¯</text>
          <text class="badge badge-experienced" wx:if="{{technician.experience >= 5}}">{{technician.experience}}å¹´ç»éªŒ</text>
          <text class="badge badge-top" wx:if="{{technician.isTop}}">é‡‘ç‰ŒæŠ€å¸ˆ</text>
        </view>
      </view>

      <!-- è¯„åˆ†å’Œè®¢å•ä¿¡æ¯ -->
      <view class="technician-meta">
        <view class="rating-info">
          <text class="rating-stars">{{technician.rating}} â­</text>
          <text class="order-count">{{technician.orderCount}}å•</text>
          <text class="response-time">{{technician.responseTime}}åˆ†é’Ÿå“åº”</text>
        </view>

        <!-- è·ç¦»å’Œé¢„è®¡åˆ°è¾¾æ—¶é—´ -->
        <view class="location-info" wx:if="{{technician.distance}}">
          <text class="distance">{{technician.distance}}km</text>
          <text class="estimate-time">{{technician.estimateTime}}åˆ†é’Ÿ</text>
        </view>
      </view>

      <!-- æŠ€å¸ˆæ ‡ç­¾ -->
      <view class="technician-tags" wx:if="{{technician.tags && technician.tags.length > 0}}">
        <text
          class="tag"
          wx:for="{{technician.tags}}"
          wx:for-item="tag"
          wx:key="*this"
        >{{tag}}</text>
      </view>
    </view>
  </view>

  <!-- æœåŠ¡é¡¹ç›®é¢„è§ˆ -->
  <view class="service-preview" wx:if="{{technician.services && technician.services.length > 0 && !compact}}">
    <text class="service-title">æœåŠ¡é¡¹ç›®ï¼š</text>
    <view class="service-list">
      <text
        class="service-item"
        wx:for="{{technician.services.slice(0, 3)}}"
        wx:for-item="service"
        wx:key="id"
      >{{service.name}}</text>
      <text class="service-more" wx:if="{{technician.services.length > 3}}">+{{technician.services.length - 3}}é¡¹</text>
    </view>
  </view>

  <!-- ä»·æ ¼åŒºé—´ -->
  <view class="price-range" wx:if="{{technician.minPrice && technician.maxPrice && !compact}}">
    <text class="price-label">ä»·æ ¼ï¼š</text>
    <text class="price-text">Â¥{{technician.minPrice}}-Â¥{{technician.maxPrice}}</text>
    <text class="price-unit">/æ¬¡</text>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="action-buttons" wx:if="{{showActions && !compact}}">
    <button class="btn btn-outline" bindtap="onViewDetail" data-technician="{{technician}}">
      æŸ¥çœ‹è¯¦æƒ…
    </button>
    <button class="btn btn-primary" bindtap="onBookNow" data-technician="{{technician}}">
      ç«‹å³é¢„çº¦
    </button>
  </view>

  <!-- å¿«é€Ÿæ“ä½œï¼ˆç´§å‡‘æ¨¡å¼ï¼‰ -->
  <view class="quick-actions" wx:if="{{showQuickActions && compact}}">
    <view class="action-item" bindtap="onQuickCall" data-technician="{{technician}}">
      <text class="action-icon">ğŸ“</text>
      <text class="action-text">è”ç³»</text>
    </view>
    <view class="action-item" bindtap="onQuickBook" data-technician="{{technician}}">
      <text class="action-icon">ğŸ“…</text>
      <text class="action-text">é¢„çº¦</text>
    </view>
    <view class="action-item" bindtap="onQuickFavorite" data-technician="{{technician}}">
      <text class="action-icon">{{technician.isFavorite ? 'â¤ï¸' : 'ğŸ¤'}}</text>
      <text class="action-text">{{technician.isFavorite ? 'å·²æ”¶è—' : 'æ”¶è—'}}</text>
    </view>
  </view>

  <!-- çŠ¶æ€æŒ‡ç¤ºå™¨ -->
  <view class="status-indicator" wx:if="{{technician.status}}">
    <text class="status-dot status-{{technician.status}}"></text>
    <text class="status-text">{{technician.statusText}}</text>
  </view>
</view>